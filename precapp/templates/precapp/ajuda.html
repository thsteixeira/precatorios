{% extends "base.html" %}
{% load static %}

{% block title %}Ajuda{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'precapp/css/ajuda.css' %}">
{% endblock %}

{% block content %}
<!-- POP Header -->
<div class="pop-header text-center">
    <h1><i class="fas fa-file-alt me-3"></i>Ajuda</h1>
    <h2 class="mb-0">Sistema de Controle de Precatórios</h2>
    <p class="mt-3 opacity-75">
        <strong>Versão:</strong> 1.0 | 
        <strong>Data:</strong> 17/09/2025 | 
        <strong>Responsável:</strong> Equipe de Desenvolvimento
    </p>
</div>

<div class="pop-content">
    
    <!-- Table of Contents -->
    <div class="toc">
        <h3><i class="fas fa-list me-2"></i>Índice</h3>
        <ul>
            <li><a href="#introducao">1. Introdução</a></li>
            <li><a href="#estrutura">2. Estrutura do Sistema</a></li>
            <li><a href="#importacao">3. Importação de Dados via Excel</a></li>
            <li><a href="#cliente">4. Cadastro de Precatório e Cliente</a></li>
            <li><a href="#requerimento">5. Cadastro de Requerimento</a></li>
            <li><a href="#alvara">6. Cadastro de Alvará</a></li>
            <li><a href="#recebimento">7. Cadastro de Recebimento</a></li>
            <li><a href="#diligencia">8. Cadastro de Diligência</a></li>
            <li><a href="#fluxo">9. Fluxo Completo do Processo</a></li>
            <li><a href="#troubleshooting">10. Troubleshooting</a></li>
            <li><a href="#anexos">11. Anexos</a></li>
        </ul>
    </div>

    <!-- 1. Introdução -->
    <section id="introducao">
        <h2><i class="fas fa-info-circle me-2"></i>1. Introdução</h2>
        
        <p>Este documento estabelece os procedimentos padronizados para utilização do Sistema de Controle de Precatórios, garantindo a correta inserção de dados e manutenção da integridade das informações.</p>
        
        <h3>1.1 Objetivo</h3>
        <p>Definir os passos necessários para cadastrar e gerenciar:</p>
        <ul>
            <li>Precatórios</li>
            <li>Clientes</li>            
            <li>Requerimentos</li>
            <li>Alvarás</li>
            <li>Recebimentos</li>
            <li>Diligências</li>
        </ul>
        
        <h3>1.2 Público-Alvo</h3>
        <ul>
            <li>Operadores do sistema</li>
            <li>Administradores</li>
            <li>Equipe jurídica</li>
        </ul>
    </section>

    <!-- 2. Estrutura do Sistema -->
    <section id="estrutura">
        <h2><i class="fas fa-sitemap me-2"></i>2. Estrutura do Sistema</h2>
        
        <h3>2.1 Hierarquia dos Dados</h3>
        <div class="hierarchy-diagram">
Cliente<br>
├── Precatório (1:N)<br>
│   ├── Requerimento (1:N)<br>
│   └── Alvará (1:N)<br>
│       └── Recebimento (1:N)<br>
└── Diligência (1:N)
        </div>
        
    </section>

    <!-- 3. Importação de Dados via Excel -->
    <section id="importacao">
        <h2><i class="fas fa-file-excel me-2"></i>3. Importação de Dados via Excel</h2>
        
        <div class="info-box">
            <p><strong><i class="fas fa-lightbulb me-2"></i>Funcionalidade Avançada:</strong> 
            O sistema permite importar grandes volumes de dados através de planilhas Excel, 
            facilitando a migração de dados existentes e entrada em lote.</p>
        </div>
        
        <h3>3.1 Pré-requisitos</h3>
        
        <div class="step-box">
            <h4>Antes de Importar</h4>
            <ul>
                <li><strong>Interface Web:</strong> Disponível via botão "Importar Excel" na lista de precatórios</li>
                <li><strong>Arquivo Excel:</strong> Planilha preparada com dados organizados</li>
                <li><strong>Backup:</strong> Sempre faça backup do banco de dados antes da importação</li>
                <li><strong>Validação:</strong> Teste com arquivos pequenos antes de importar grandes volumes</li>
            </ul>
        </div>
        
        <h3>3.2 Formato da Planilha Excel</h3>
        
        <div class="warning-box">
            <p><strong><i class="fas fa-exclamation-triangle me-2"></i>Importante:</strong> 
            A planilha deve seguir exatamente o formato especificado. Os cabeçalhos devem estar na <strong>linha 2</strong> (linha 1 é ignorada).</p>
        </div>
        
        <h4>3.2.1 Colunas Obrigatórias</h4>
        <div class="format-example">
<strong>Cabeçalhos da planilha (linha 2):</strong><br>
A: Origem (CNJ do processo original)<br>
B: Tipo<br>
C: CNJ<br>
D: Orçamento<br>
E: Destacado<br>
F: Autor (Nome do Cliente)<br>
G: CPF<br>
H: Nascimento<br>
I: Valor de Face
        </div>
        
        <h4>3.2.2 Descrição dos Campos</h4>
        
        <div class="info-box">
            <h5><i class="fas fa-gavel me-2"></i>Campos do Precatório:</h5>
            <ul>
                <li><strong>Origem:</strong> Número CNJ do processo de origem (ex: "1234567-89.2023.8.26.0001")</li>
                <li><strong>Tipo:</strong> Tipo do precatório (será criado automaticamente se não existir)</li>
                <li><strong>CNJ:</strong> Número CNJ no formato padrão (NNNNNNN-DD.AAAA.J.TR.OOOO)</li>
                <li><strong>Orçamento:</strong> Ano do orçamento (ex: 2024, 2025)</li>
                <li><strong>Destacado:</strong> Percentual de honorários destacados (ex: 30,0)</li>
                <li><strong>Valor de Face:</strong> Valor monetário do precatório (aceita formato com vírgula)</li>
            </ul>
        </div>
        
        <div class="info-box">
            <h5><i class="fas fa-user me-2"></i>Campos do Cliente:</h5>
            <ul>
                <li><strong>Nome:</strong> Nome completo do cliente/autor</li>
                <li><strong>CPF:</strong> CPF do cliente (aceita com ou sem formatação)</li>
                <li><strong>Nascimento:</strong> Data de nascimento (formatos: DD/MM/AAAA, YYYY-MM-DD)</li>
            </ul>
        </div>
        
        <h3>3.3 Exemplo de Planilha</h3>
        
        <div class="hierarchy-diagram">
<strong>Exemplo de dados (a partir da linha 3):</strong><br><br>
<div class="table-example">
| Origem                     | Tipo      | CNJ                        | Orçamento | Destacado | Autor          | CPF           | Nascimento | Valor de Face |<br>
|----------------------------|-----------|----------------------------|-----------|-----------|----------------|---------------|------------|---------------|<br>
| 1234567-89.2023.8.26.0001 | Comum     | 1234567-89.2024.8.26.0001 | 2024      | 30,0      | João da Silva  | 12345678901   | 15/03/1980 | 150000.50     |<br>
| 2345678-90.2023.8.19.0001 | Alimentar | 2345678-90.2024.8.19.0001 | 2024      | 25,0      | Maria Santos   | 98765432100   | 22/07/1975 | 85000.00      |<br>
</div>
        </div>
        
        <h3>3.4 Importação via Interface Web</h3>
        
        <div class="step-box">
            <h4>Procedimento de Importação</h4>
            <ol>
                <li>Acesse a <strong><a href="{% url 'precatorios' %}">Lista de Precatórios</a></strong></li>
                <li>Clique no botão <strong>"Importar Excel"</strong> <i class="fas fa-file-excel text-success"></i></li>
                <li>No modal que abrir:</li>
                <ul>
                    <li>Selecione seu arquivo Excel (.xlsx ou .xls)</li>
                    <li>Máximo 10MB de tamanho</li>
                    <li>Clique em <strong>"Importar Dados"</strong></li>
                </ul>
                <li>Aguarde o processamento (pode levar alguns minutos)</li>
                <li>Verifique o resultado na mensagem de retorno</li>
            </ol>
        </div>
        
        <h3>3.5 Tratamento de Erros</h3>
        
        <div class="error-box">
            <h4>Erros comuns e soluções:</h4>
            <ul>
                <li><strong>CNJ duplicado:</strong> Precatório já existe - verifique na linha X</li>
                <li><strong>CPF inválido:</strong> Dígitos verificadores incorretos</li>
                <li><strong>Data inválida:</strong> Formato não reconhecido - use DD/MM/AAAA</li>
                <li><strong>Valor inválido:</strong> Use números com ponto ou vírgula decimal</li>
                <li><strong>Campo obrigatório vazio:</strong> CNJ, Nome ou CPF não podem estar vazios</li>
            </ul>
        </div>
        
        <h3>3.6 Exemplo de Saída do Sistema</h3>
        
        <div class="format-example">
            <strong>Exemplo de mensagem de sucesso:</strong><br><br>
            ✓ Importação concluída com sucesso!<br>
            Importados: 150 precatório(s), 147 cliente(s).<br><br>

            <strong>Exemplo de aviso (dados duplicados):</strong><br><br>
            ⚠️ Alguns dados já existem no sistema e foram ignorados.
        </div>
        
        <h3>3.7 Recomendações Importantes</h3>
        
        <div class="info-box">
            <h4>Melhores Práticas:</h4>
            <ul>
                <li><strong>Teste com arquivos pequenos:</strong> Antes de importar grandes volumes</li>
                <li><strong>Backup obrigatório:</strong> Faça backup do banco antes de importar</li>
                <li><strong>Validação prévia:</strong> Confira dados no Excel antes da importação</li>
                <li><strong>Lotes pequenos:</strong> Para muitos dados, importe em lotes de até 1000 registros</li>
                <li><strong>Horários adequados:</strong> Evite importações em horários de pico</li>
                <li><strong>Verificação posterior:</strong> Sempre confira os dados após a importação</li>
            </ul>
        </div>
        
        <h3>3.8 Limitações</h3>
        
        <div class="warning-box">
            <ul class="mb-0">
                <li><strong>Alvarás não são importados:</strong> Apenas precatórios e clientes</li>
                <li><strong>Requerimentos básicos:</strong> Apenas se houver campo 'pedido' na planilha</li>
                <li><strong>Relacionamentos simples:</strong> Cada linha = 1 precatório + 1 cliente</li>
                <li><strong>Dados existentes:</strong> Não atualiza registros existentes</li>
            </ul>
        </div>

    <!-- 4. Cadastro de Precatório e Cliente -->
    <section id="cliente">
        <h2><i class="fas fa-user me-2"></i>4. Cadastro de Precatório e Cliente</h2>
        
        <div class="info-box">
            <p><strong><i class="fas fa-lightbulb me-2"></i>Fluxo Recomendado:</strong> 
            No sistema, é recomendado primeiro cadastrar o precatório e depois associar os clientes diretamente na página de detalhes do precatório. 
            Isso garante que os clientes sejam automaticamente vinculados ao processo.</p>
        </div>
        
        <h3>4.1 Opção A: Cadastro do Precatório -> Cliente (Recomendado)</h3>
        
        <div class="step-box">
            <h4>Passo 1: Acesse o Precatório</h4>
            <ol>
                <li>Primeiro, <a href="{% url 'novo_precatorio' %}">cadastre o precatório</a></li>
                <li>Acesse os <strong>detalhes do precatório</strong> criado</li>
                <li>Faça o upload da íntegra do precatório em PDF, em ordem crescente</li>
                <li>Na seção <strong>"Clientes Associados"</strong>, clique em <strong>"Novo Cliente"</strong></li>
            </ol>
        </div>
        
        <div class="step-box">
            <h4>Passo 2: Preenchimento dos Dados</h4>
            <ul>
                <li><strong>CPF ou CNPJ:</strong> Insira o CPF no formato XXX.XXX.XXX-XX (aceita com ou sem pontuação)</li>
                <li><strong>Nome Completo:</strong> Digite o nome completo do cliente</li>
                <li><strong>Data de Nascimento:</strong> Selecione a data no calendário</li>
                <li><strong>Campos opcionais:</strong> Cliente com Prioridade Legal e Falecido</li>
            </ul>
        </div>
        
        <div class="step-box">
            <h4>Passo 3: Finalização</h4>
            <ol>
                <li>Clique em <strong>"Criar Cliente"</strong></li>
                <li>O cliente será criado e automaticamente vinculado ao precatório</li>
                <li>Confirmação aparecerá na lista de clientes associados</li>
            </ol>
        </div>
        
        <h3>4.2 Opção B: Vincular Cliente Existente</h3>
        
        <div class="step-box">
            <h4>Para vincular um cliente já cadastrado:</h4>
            <ol>
                <li>Na seção "Clientes Associados", clique em <strong>"Vincular Existente"</strong></li>
                <li>Digite o <strong>CPF ou CNPJ do cliente</strong> existente</li>
                <li>Clique em <strong>"Vincular"</strong></li>
                <li>O cliente será associado ao precatório</li>
            </ol>
        </div>
        
        <h3>4.3 Opção C: Cadastro Independente</h3>
        
        <div class="info-box">
            <p><strong>Quando usar:</strong> Apenas se você quiser cadastrar clientes antes de ter os precatórios disponíveis.</p>
        </div>
        
        <div class="step-box">
            <h4>Procedimento Alternativo</h4>
            <ol>
                <li>Navegue para <strong>"<a href="{% url 'clientes' %}">Clientes</a>"</strong> no menu principal</li>
                <li>Clique em <strong>"<a href="{% url 'novo_cliente' %}">Novo Cliente</a>"</strong></li>
                <li>Preencha todos os dados necessários</li>
                <li>Salve o cliente</li>
                <li><em>Posteriormente, vincule o cliente aos precatórios usando a Opção B</em></li>
            </ol>
        </div>
        
        <h3>4.4 Possíveis Erros</h3>
        <div class="error-box">
            <ul class="mb-0">
                <li><strong>CPF ou CNPJ inválido:</strong> Verificar dígitos e formato</li>
                <li><strong>CPF ou CNPJ duplicado:</strong> Cliente já cadastrado no sistema</li>
                <li><strong>Data inválida:</strong> Verificar formato DD/MM/AAAA</li>
            </ul>
        </div>
    </section>

    <div class="info-box">
        <p>
            Após cadastrar o precatório e o cliente, analise integralmente o processo para encontrar todos os requerimentos e alvarás já existentes.
            Verifique se há requerimentos a serem preparados, neste caso inclua o requerimento com a fase "Preparar Documento".
            Verifique também a necessidade de incluir diligências para os clientes vinculados ao precatório.
        </p>
    </div>

    <!-- 5. Cadastro de Requerimento -->
    <section id="requerimento">
        <h2><i class="fas fa-file-signature me-2"></i>5. Cadastro de Requerimento</h2>

        <h3>5.1 Pré-requisitos</h3>
        <ul>
            <li>Precatório já cadastrado</li>
            <li>Cliente já associado ao precatório</li>
        </ul>
        
        <h3>5.2 Procedimento</h3>
        
        <div class="step-box">
            <h4>Passo 1: Acesso via Precatório</h4>
            <ol>
                <li>Acesse os <strong>detalhes do precatório</strong></li>
                <li>Na seção <strong>"Requerimentos"</strong></li>
                <li>Clique em <strong>"Adicionar Requerimento"</strong></li>
            </ol>
        </div>
        
        <div class="step-box">
            <h4>Passo 2: Seleção do Cliente</h4>
            <p>Insira o CPF ou CNPJ do cliente</p>
            <div class="info-box">
                <p><strong>Importante:</strong> Se o cliente não estiver vinculado, receberá uma mensagem de erro. 
                Primeiro associe-o ao precatório usando os botões "Novo Cliente" ou "Vincular Existente" 
                na seção "Clientes Associados".</p>
            </div>
        </div>
        
        <div class="step-box">
            <h4>Passo 3: Tipo do Requerimento</h4>
            <p><strong>Pedido:</strong> Selecione o tipo de requerimento:</p>
            <ul>
                {% for tipo in tipos_requerimento %}
                    <li>{{ tipo.nome }}</li>
                {% empty %}
                    <li>Nenhum tipo de requerimento configurado</li>
                {% endfor %}
            </ul>
        </div>
        
        <div class="step-box">
            <h4>Passo 4: Valores Financeiros</h4>
            <ul>
                <li><strong>Valor:</strong> Valor do requerimento</li>
                <li><strong>Deságio:</strong> Percentual de desconto aplicado</li>
            </ul>
        </div>
        
        <div class="step-box">
            <h4>Passo 5: Fase e Acompanhamento</h4>
            <ul>
                <li><strong>Fase:</strong> Status atual do requerimento</li>
                <li><strong>CNJ:</strong> CNJ específico do requerimento (opcional)</li>
            </ul>
        </div>
        
        <div class="step-box">
            <h4>Passo 6: Finalização</h4>
            <ol>
                <li>Revise as informações</li>
                <li>Salve o requerimento</li>
                <li>Confirme na listagem</li>
            </ol>
        </div>
        
        <h3>5.3 Regras de Negócio</h3>
        <div class="warning-box">
            <ul class="mb-0">
                <li><strong>Cliente deve estar associado</strong> ao precatório antes de criar o requerimento</li>
                <li><strong>Valores devem ser positivos</strong></li>
                <li><strong>Fase pode ser alterada</strong> para acompanhar o progresso</li>
            </ul>
        </div>
    </section>

    <!-- 6. Cadastro de Alvará -->
    <section id="alvara">
        <h2><i class="fas fa-file-contract me-2"></i>6. Cadastro de Alvará</h2>

        <h3>6.1 Pré-requisitos</h3>
        <ul>
            <li>Precatório cadastrado</li>
            <li>Cliente associado ao precatório</li>
        </ul>
        
        <div class="step-box">
            <h4>Procedimento Similar aos Requerimentos</h4>
            <ol>
                <li>Acesse os detalhes do precatório</li>
                <li>Na seção "Alvarás", clique em "Adicionar Alvará"</li>
                <li>Adicione o CPF ou CNPJ do cliente</li>
                <li>Preencha valores e fases</li>
                <li>Salve o alvará</li>
            </ol>
        </div>
        <div class="error-box">
            <p><i class="fas fa-solid fa-triangle-exclamation me-2"></i><strong>Importante:</strong>
                Sempre que criar um alvará ou alterar uma das fases de um alvará,
                atualize os status dos pagamentos do precatório.</p>
        </div>
    </section>

    <!-- 7. Cadastro de Recebimento -->
    <section id="recebimento">
        <h2><i class="fas fa-money-check-alt me-2"></i>7. Cadastro de Recebimento</h2>

        <h3>7.1 Pré-requisitos</h3>
        <ul>
            <li>Alvará já cadastrado</li>
            <li>Conta bancária configurada no sistema</li>
        </ul>
        
        <div class="step-box">
            <h4>Procedimento</h4>
            <ol>
                <li>Acesse os detalhes do alvará</li>
                <li>Na seção "Recebimentos", clique em "Adicionar Recebimento"</li>
                <li>Preencha número do documento, data, valor e tipo</li>
                <li>Selecione a conta bancária</li>
                <li>Salve o recebimento</li>
            </ol>
            <div class="info-box">
                <p>O número do documento é obtido no extrato bancário, deve ser único e não pode ser reutilizado.</p>
            </div>
        </div>
    </section>

    <div class="error-box">
            <p><i class="fas fa-solid fa-triangle-exclamation me-2"></i><strong>Importante:</strong>
                Ao finalizar o cadastro de todas as informações do precatório, atualize os status dos pagamentos do precatório.</p>
    </div>

    <!-- 8. Cadastro de Diligência -->
    <section id="diligencia">
        <h2><i class="fas fa-tasks me-2"></i>8. Cadastro de Diligência</h2>

        <h3>8.1 Procedimento</h3>
        
        <div class="step-box">
            <h4>Via Cliente</h4>
            <ol>
                <li>Entre no perfil do <a href="{% url 'clientes' %}">cliente</a></li>
                <li>Na seção "Diligências", clique em "Nova Diligência"</li>
                <li>Preencha tipo, descrição, prazo e responsável</li>
                <li>Defina o nível de urgência</li>
                <li>Salve a diligência</li>
            </ol>
        </div>
    </section>

    <!-- 9. Fluxo Completo -->
    <section id="fluxo">
        <h2><i class="fas fa-project-diagram me-2"></i>9. Fluxo Completo do Processo</h2>

        <h3>9.1 Sequência Recomendada</h3>
        <div class="hierarchy-diagram">
1. <a href="{% url 'novo_precatorio' %}">Cadastrar Precatório</a><br>
   ↓<br>
2. Associar Clientes (via página de detalhes do precatório)<br>
   ├── <strong>Opção A:</strong> Criar novo cliente diretamente<br>
   └── <strong>Opção B:</strong> Vincular cliente existente (por CPF)<br>
   ↓<br>
3. Analisar integralmente o precatório em busca de requerimentos e alvarás<br>
   ↓<br>
4. Criar Requerimentos<br>
   ↓<br>
5. Criar Alvarás<br>
   ↓<br>
6. Registrar Recebimentos<br>
   ↓<br>
7. Atualizar Status dos Pagamentos<br>
   ↓<br>
8. Criar Diligências (na ficha do cliente)
        </div>
        
        <h3>9.2 Boas Práticas</h3>

        <h4>9.2.1 Ordem de Cadastro</h4>
        <div class="info-box">
            <ol class="mb-0">
                <li><strong>Sempre</strong> cadastre o precatório primeiro</li>
                <li><strong>Na página de detalhes do precatório</strong>, associe os clientes</li>
                <li>Use <strong>"Novo Cliente"</strong> para criar clientes que ainda não existem</li>
                <li>Use <strong>"Vincular Existente"</strong> para associar clientes já cadastrados</li>
                <li>Analise integralmente o processo buscando requerimentos e alvarás</li>
                <li>Crie requerimentos que já existem no processo ou que precisem ser protocolados</li>
                <li>Registre os alvarás existentes no precatório</li>
                <li>Lance recebimentos confirmando a informação no extrato bancário</li>
                <li>Atualize os status dos pagamentos do precatório</li>
                <li>Crie diligências quando houver necessidade junto ao cliente</li>
            </ol>
        </div>

        <h4>9.2.2 Controle de Qualidade</h4>
        <div class="warning-box">
            <ul class="mb-0">
                <li><strong>Dupla verificação</strong> dos dados críticos (CNJ, CPF, valores)</li>
                <li><strong>Backup regular</strong> dos documentos importantes</li>
                <li><strong>Revisão periódica</strong> dos status e fases</li>
                <li><strong>Atualização imediata</strong> de mudanças de status</li>
            </ul>
        </div>
    </section>

    <!-- 10. Troubleshooting -->
    <section id="troubleshooting">
        <h2><i class="fas fa-tools me-2"></i>10. Troubleshooting</h2>

        <h3>10.1 Problemas Comuns</h3>

        <div class="error-box">
            <h4>10.1.1 "Como associar cliente ao precatório?"</h4>
            <p><strong>Solução:</strong></p>
            <ol class="mb-0">
                <li>Acesse os detalhes do precatório</li>
                <li>Na seção "Clientes Associados", clique em:</li>
                <li><strong>"Novo Cliente"</strong> - para criar um cliente novo</li>
                <li><strong>"Vincular Existente"</strong> - para associar cliente já cadastrado</li>
                <li>Preencha os dados e confirme</li>
            </ol>
        </div>
        
        <div class="error-box">
            <h4>10.1.2 "Cliente não encontrado para vincular"</h4>
            <p><strong>Causa:</strong> Cliente não existe ou CPF incorreto</p>
            <p><strong>Solução:</strong></p>
            <ol class="mb-0">
                <li>Verificar CPF digitado (aceita com ou sem pontuação)</li>
                <li>Se cliente não existe, use <strong>"Novo Cliente"</strong></li>
                <li>Se cliente existe, verifique o CPF em <a href="{% url 'clientes' %}">Clientes</a></li>
            </ol>
        </div>
        
        <div class="error-box">
            <h4>10.1.3 "CNJ duplicado"</h4>
            <p><strong>Causa:</strong> Tentativa de cadastrar precatório já existente</p>
            <p><strong>Solução:</strong></p>
            <ol class="mb-0">
                <li>Buscar o precatório existente em <a href="{% url 'precatorios' %}">Precatórios</a></li>
                <li>Verificar se é realmente duplicata</li>
                <li>Atualizar dados do precatório existente se necessário</li>
            </ol>
        </div>

        <div class="error-box">
            <h4>10.1.4 "Erro ao importar Excel"</h4>
            <p><strong>Causa:</strong> Formato incorreto ou dados inválidos</p>
            <p><strong>Solução:</strong></p>
            <ol class="mb-0">
                <li>Verificar se o arquivo segue o formato especificado</li>
                <li>Corrigir erros indicados na mensagem de retorno</li>
                <li>Testar com um arquivo menor para isolar o problema</li>
                <li>Consultar a seção "Importação de Dados via Excel" para detalhes</li>
            </ol>
    </section>

    <!-- 11. Anexos -->
    <section id="anexos">
        <h2><i class="fas fa-paperclip me-2"></i>11. Anexos</h2>

        <h3>11.1 Formatos Padrão</h3>

        <h4>CNJ:</h4>
        <div class="format-example">
            <strong>NNNNNNN-DD.AAAA.J.TR.OOOO</strong><br>
            • N: Número sequencial<br>
            • D: Dígito verificador<br>
            • A: Ano<br>
            • J: Segmento judiciário<br>
            • T: Tribunal<br>
            • O: Origem
        </div>
        
        <h4>CPF:</h4>
        <div class="format-example">
            <strong>XXX.XXX.XXX-XX</strong><br>
            • Sempre com 11 dígitos<br>
            • Dígitos verificadores válidos
        </div>
        
        <h4>Datas:</h4>
        <div class="format-example">
            <strong>DD/MM/AAAA</strong><br>
            • Sempre no formato brasileiro<br>
            • Validação de datas válidas
        </div>

        <h3>11.2 Arquivos úteis</h3>

        <h4><i class="fas fa-file-excel text-success"></i> Modelo de excel para importação:</h4>
        <div class="format-example">
            <p>
                Clique <a href="{% static 'precapp/docs/modelo_importacao.xlsx' %}" download>aqui</a> para baixar o modelo de planilha Excel para importação de precatórios e clientes.
            </p>
        </div>

    </section>

    <!-- Version Footer -->
    <div class="mt-5 p-4 bg-light rounded text-center">
        <p class="mb-2"><strong>Documento controlado - Versão 1.0</strong></p>
        <p class="mb-2">
            <strong>Última atualização:</strong> 17/09/2025 | 
            <strong>Próxima revisão:</strong> 17/03/2026
        </p>
        <p class="mb-0"><small>Desenvolvido por Thiago Teixeira</small></p>
    </div>

</div>

<!-- Back to Top Button -->
<button class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" title="Voltar ao topo">
    <i class="fas fa-arrow-up"></i>
</button>

{% endblock %}

{% block extra_js %}
<script>
    // Show/hide back to top button
    window.addEventListener('scroll', function() {
        const backToTop = document.querySelector('.back-to-top');
        if (window.pageYOffset > 100) {
            backToTop.style.display = 'block';
        } else {
            backToTop.style.display = 'none';
        }
    });

    // Smooth scrolling for anchor links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) {
                target.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });
</script>
{% endblock %}